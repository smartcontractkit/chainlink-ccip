---
in: |
  deployments:
    chainlink-don:
      helm:
        values:
          common:
            nodeSelector:
              node-role: crib
            tolerations:
              - key: "node-role"
                operator: "Equal"
                value: "crib"
                effect: "NoSchedule"
            ingress:
              enabled: true
              ingressClassName: nginx-internal
              annotations:
                nginx.ingress.kubernetes.io/backend-protocol: HTTP
                external-dns.alpha.kubernetes.io/ttl: "30"
              hosts:
                - host: "${DEVSPACE_NAMESPACE}-%s.${DEVSPACE_INGRESS_BASE_DOMAIN}"
                  paths:
                    - path: /
                      pathType: Prefix
                  useNodeName: true
    {{- if eq (getenv "DON_TYPE") "gateway" }}
    gateway-ingress:
      ingressClassName: nginx-internal
      fullnameOverride: gateway-ingress
      annotations:
        nginx.ingress.kubernetes.io/backend-protocol: HTTP
        external-dns.alpha.kubernetes.io/ttl: "120"
      ingressPathType: "Prefix"
      nodeMapping:
        - "0"
    {{- end }}
